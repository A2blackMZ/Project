<div *ngIf="loading" class="loading-container">
  <img src="/assets/loading.gif" alt="Chargement en cours..." />
</div>
<app-topnavbar></app-topnavbar>
<div class="row">
  <div class="col-md-3">
    <app-leftnavbar></app-leftnavbar>
  </div>
  <div class="col-md-9">
    <ul class="nav nav-tabs">
      <li class="nav-item" *ngFor="let projet of projetsSelectionnes">
        <a
          class="nav-link"
          [ngClass]="{
            active: activeTab === projet.id,
            'selected-tab': activeTab === projet.id
          }"
          (click)="selectTab(projet.id)"
          >{{ "Projet " + projet.id }}</a
        >
      </li>
    </ul>
    <ng-container *ngFor="let projet of projetsSelectionnes">
      <div [hidden]="activeTab !== projet.id" class="scrollable-form">
        <!-- Formulaire pour le projet -->
        <form [formGroup]="projetForm" (ngSubmit)="submitForm()">
          <!-- Replace the textarea with TinyMCE -- class="form-control"-->
          <div>
            <label for="evenement">Evenement</label>
            <editor
              apiKey="no-api-key"
              [init]="editorConfig"
              name="evenement"
              id="evenement"
              formControlName="evenement"
              required
            ></editor>
          </div>

          <div class="form-group">
            <label for="difficultes">Difficult√©s</label>
            <editor
              apiKey="no-api-key"
              [init]="editorConfig"
              id="difficultes"
              name="difficultes"
              formControlName="difficultes"
              required
            ></editor>
          </div>

          <div class="form-group">
            <label for="budget">Commentaires</label>
            <editor
              apiKey="no-api-key"
              [init]="editorConfig"
              type="text"
              id="commentaires"
              name="commentaires"
              formControlName="commentaires"
              required
            ></editor>
          </div>

          <div class="form-group">
            <label for="approche_solution">Approches de Solutions</label>
            <editor
              apiKey="no-api-key"
              [init]="editorConfig"
              id="approche_solution"
              name="approche_solution"
              formControlName="approche_solution"
              required
            ></editor>
          </div>
          <div class="form-group">
            <label for="action_retenu">Actions Retenues</label>
            <editor
              apiKey="no-api-key"
              [init]="editorConfig"
              id="action_retenu"
              name="action_retenu"
              formControlName="action_retenu"
              required
            ></editor>
          </div>
          <div class="form-group">
            <label for="dateDebut">Date du compte rendu:</label>
            <input
              type="date"
              class="form-control"
              id="date"
              name="date"
              formControlName="date"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary">
            <!--(click)="modifierProjet()"-->
            Enregistrer
          </button>
        </form>
      </div>
    </ng-container>
  </div>
</div>
